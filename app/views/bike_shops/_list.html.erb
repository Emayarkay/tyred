<% if bike_shops.any? %>
  <% bike_shops.each do |shop| %>
    <div class="shop-card"
         data-controller="geolocation"
         data-geolocation-latitude-value="<%= shop.latitude %>"
         data-geolocation-longitude-value="<%= shop.longitude %>">
      <div class="shop-card-image">
        <% if shop.photo.attached? %>
          <%= cl_image_tag shop.photo.key, class:"shop-img" %>
        <% else %>
          <%= "No image" %>
        <% end %>
      </div>
      <div class="shop-card-info">
        <div class="d-flex justify-content-between align-items-center">
          <h4> <%= shop.name %> </h4>
          <p><span class="shop-card-small-text">
            <% shop.rating.times do %>
              <%= "⭐️" %>
            <% end %>
          </span></p>
        </div>
        <div class="shop-card-details mt-1">
          <p><span class="shop-card-small-text"><i class="fas fa-location"></i><%= shop.location %></span></p>
          <p><span class="shop-card-small-text"><i class="fa-solid fa-globe"></i><%= shop.website %></span></p>
          <div class="d-flex justify-content-between">
            <p><span class="shop-card-small-text"><i class="fa-solid fa-phone"></i><%= shop.phone_number %></span></p>
            <p data-geolocation-target="distance"><span class="shop-card-small-text">Loading distance...</span></p>

          </div>
        </div>

      </div>
    </div>
  <% end %>
<% else %>
  <em>Sorry, no shops found.</em>
<% end %>
